# Appliance Control
_api для управления стиральной машиной_

## Сущность стиральная машина имеет следующие поля в базе данных:
* id 
* state - перечисление (ON/OFF)
* washingState - перечисление, состояние текущей стирки (PROCESS, STOPPED, PAUSED)
* waterTemperature - температура стирки
* washCycle - перечисление, цикл(режим) стирки
* spin - обороты отжима
* startWashingDate - начало стирки
* time - время стирки (время за которое белье должно постираться)


## Основные функции api в логическом порядке c пояснениями:
* `/createWashMachine`
Создание объекта стиральная машина в базе данных. В качестве ответа приходит JSON такого типа:
`{"id":10180,"state":"OFF","washingState":"STOPPED","waterTemperature":0,"washCycle":null,"spin":0,
"startWashingDate":null,"time":{"seconds":0,"negative":false,"zero":true,"units":["SECONDS","NANOS"],"nano":0}}`
Таким образом создалось устройство стиральная машина. Устройство выключено. Для того, чтобы им пользоваться, необходимо его включить.
В противном случае ничего с ним сделать нельзя, кроме вызова функции getState.

* `/getState/id`
Получение полной информации об устройстве в виде JSON.


* `/switch/id` 
Включение устройства. В ответе должно прийти устройство со state ON. При повторном вызове данной функции устройство выключается и 
настройки стирки сбрасываются. Можно использовать, если стиральная машина находится в режиме стирки. Это своего рода выключатель (выдёргиватель
из розетки :) )

*  `/id/setCottonsWash` `/id/setQuickWash` `/id/setMixedWash` `/id/setDelicateWash` `/id/setWoolWash`
Задание стандартного режима стирки для устройства. Можно использовать только для включенного устройства. Для разных режимов, соответственно, задаются разные температуры и обороты отжима.

* `id/customCurrentWash?temperature=x&spin=y`
Можно отредактировать текущий режим стирки (поставить нужную температуру - x и отжим - y). Можно использовать ТОЛЬКО если УЖЕ задан какой-то из стандартных режимов стирки. На температуру и отжим заданы ограничения. Для температуры от 30 до 80, а отжим от 600 до 1200.

* `/id/startAndPauseButton`
Нажатие кнопки включения/выключения стирки. При первичном нажатии стирка переходит из состояния STOPPED в состояние PROCESS и записывается дата начала стирки. При повторном нажатии происходит переключение между режимами PAUSED и PROCESS. При вызове switch стиральную машину можно полностью выключить и настроить стирку заново.




